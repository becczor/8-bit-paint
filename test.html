<!DOCTYPE html>
<html lang="en">

	<head>

		<meta charset="utf-8">

		<style type="text/css">
			.cell {
				border: 1px solid black;
				height: 20px;
				width: 20px;
				display: inline-block;
			}

			.row {
				width: 100px;
				border: 1px dotted grey;
			}

			.red {
				background-color: red;
			}

			.blue {
				background-color: blue;
			}

			#code {
				font-family: Consolas, monospace;
				font-size: 10px;
			}

		</style>

		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/underscore/underscore.min.js"></script>

		<script>
			$( document ).ready(function() {
 
			    // Your code here.
			    console.log( "welcome" );

			    $( ".cell" ).click(function( event ) {
			    	var classes = $(this).attr("class");
			    	console.log(typeof(classes));
			    	if (classes.includes("red")) {
			    		$( this ).addClass( "blue" );
			    		$( this ).removeClass( "red" );
			    	} else if (classes.includes("blue")) {
			    		$( this ).addClass( "red" );
			    		$( this ).removeClass( "blue" );
			    	}
			    });
			 
			});

			var setCode = function(html) {
				var cells = document.getElementsByClassName('cell');
				console.log(cells[0]);
				var code = _.reduce(cells, function(memo, cell) {
					return memo + cell.className.split(" ").pop() + ", "
				}
				, "");
				console.log(code);
				document.getElementById("code").innerHTML = code;
			};

		</script>
	</head>
	<body>
	<div class="row" id="canvas">
		<div class="cell red" id="d1">
			1
		</div>
		<div class="cell blue" id="d2">
			2
		</div>
		<div class="cell red" id="d3">
			3
		</div>
		<div class="cell blue" id="d4">
			4
		</div>
		<div class="cell red" id="d5">
			5
		</div>
		<div class="cell blue" id="d6">
			6
		</div>
		<div class="cell red" id="d7">
			7
		</div>
		<div class="cell blue" id="d8">
			8
		</div>


	</div>
	<br/>

	<button class="btn btn-primary" id="giveCode" onclick="setCode(this)">Gif me le code</button>
	<br />

	<div class="row" id="code">
		
	</div>


	</body>

</html>